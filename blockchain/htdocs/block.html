<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<link rel="shortcut icon" type="image/ico" href="http://www.datatables.net/favicon.ico">
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=2.0">

	<title>block list - by BitSuperLab</title>
	<link rel="stylesheet" type="text/css" href="tables/media/css/jquery.dataTables.css">
  <link rel="stylesheet" type="text/css" href="tables/examples/resources/syntax/shCore.css">
	<link rel="stylesheet" type="text/css" href="tables/examples/resources/demo.css">

  <script src=http://cdn.pubnub.com/pubnub.min.js ></script>
  <script type="text/javascript" language="javascript" src="tables/media/js/jquery.js"></script>
	<script type="text/javascript" language="javascript" src="tables/media/js/jquery.dataTables.js"></script>
  <script type="text/javascript" language="javascript" src="tables/examples/resources/syntax/shCore.js"></script>
  <script type="text/javascript" language="javascript" src="tables/examples/resources/demo.js"></script>
	<script type="text/javascript" language="javascript" class="init">

  var pubnub = PUBNUB.init({
    publish_key   : 'demo',
    subscribe_key : 'demo'
  })
 
  pubnub.subscribe({
    channel : "blockchain_list_blocks",
    message : function(m){
      if(m[0] == "MISSED"){
         m[0] = "<font color=\"#FF0000\">MISSED</font>"
         }
      table.row.add(m).draw(false);
      }
  })
 
  pubnub.history({
    channel : "blockchain_list_blocks",
    count: 101,
    callback: function(m){
      for ( var i in m[0]){
      if(m[0][i][0] == "MISSED"){
         m[0][i][0] = "<font color=\"#FF0000\">MISSED</font>"
         }
      table.row.add(m[0][i])
      }
      table.draw(false)
      }
  })

$(document).ready(function() {
  table = $('#example').DataTable( {
       "order": [[ 1, "desc" ]],
       "stateSave": true,
       "deferRender": true,
       "pageLength": 100,
       "aoColumns": [
           { "orderSequence": [ "desc", "asc" ] },
           { "orderSequence": [ "desc", "asc" ] },
           { "orderSequence": [ "desc", "asc" ] },
           { "orderSequence": [ "desc", "asc" ] },
           { "orderSequence": [ "desc", "asc" ] },
           { "orderSequence": [ "desc", "asc" ] },
           { "orderSequence": [ "desc", "asc" ] },
           { "orderSequence": [ "desc", "asc" ] }
       ]
  } );
} );

	</script>
</head>

<body class="dt-example">
	<div class="container">
		<section>
			<h1>Block list<span> by BitSuperLab</span></h1>

			<table id="example" class="display" cellspacing="0" width="100%">
				<thead>
					<tr>
						<th>HEIGHT</th>
						<th>TIMESTAMP</th>
						<th>DELEGATE</th>
						<th>#TXS</th>
						<th>SIZE</th>
						<th>FEES</th>
						<th>LATENCY</th>
						<th>PROSS TIME</th>
					</tr>
				</thead>
			</table>
	</section>
</body>
</html>
